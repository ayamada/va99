VA=(()=>{var d=new (self.AudioContext||self.webkitAudioContext),k=d.createGain(),y=k.gain.value=.2,r,z=a=>{r?(k.disconnect(),r.disconnect()):k.disconnect();(r=a)?k.connect(a).connect(d.destination):k.connect(d.destination)},H=new (self.OfflineAudioContext||self.webkitOfflineAudioContext)(2,2,d.sampleRate),t=a=>{try{a.stop()}catch(b){}try{a.disconnect()}catch(b){}try{a.buffer=null}catch(b){}},I=a=>{var b=d.createBufferSource();b.buffer=a;b.addEventListener("ended",()=>{t(b)},{once:!0});a=d.createStereoPanner?.();
var c=d.createGain();(a?b.connect(a):b).connect(c).connect(k);b.G=c;b.P=a;return b},p=[],q=(a,b=0,c=0)=>{if("suspended"==d.state||"interrupted"==d.state)try{d.resume()}catch(f){}if(a instanceof AudioBuffer){var g=I(a);if(!c){for(c=p.length-1;0<=c;c--){var [n,l]=p[c];if(n===a||"suspended"==d.state)l.G.gain.value/=2;l.buffer||p.splice(c,1)}p.push([a,g])}b||g.start();return g}},e={},u=0,v=()=>{var a=e.i;a&&t(a);a=e.g;e={};if(a){var [b,c,,g,n,l]=a,f=q(b,1,1);if(f){f.loop=!c;f.G.gain.value=n;f.playbackRate.value=
g;var h=f.P?.pan;h&&(h.value=l);e.j=a;e.i=f;f.start()}else v()}},J=(a,b)=>a.length==b.length&&a.every((c,g)=>c===b[g]),x=(a,b=0,c=1,g=1,n=1,l=0)=>{var f=[a,b,c,g,n,l],h=e.i,w=e.j,A=h?.buffer&&!e.h&&w,m;null==a&&(e.g?m=[...e.g]:A&&(m=[...w]));if(A&&J(f,w))return m;u++;if(null!=a&&!(a instanceof AudioBuffer)){x(null,!1,c);var K=u;B.L(a).then(C=>C&&K==u&&x(C,b,c,g,n,l));return m}e.g=a?f:null;if(e.h)return m;if(!h?.buffer||!h.G||!c)return v(),m;e.h=!0;var D=99*c,L=h.G.gain.value/9,E=()=>0>=(h.G.gain.value-=
L)||!h.buffer?v():setTimeout(E,D);setTimeout(E,D);return m};z(0);var F=d.createBuffer(1,2,d.sampleRate),G=()=>{q(F,0,1);document.removeEventListener("click",G)};document.addEventListener("click",G);["touchstart","touchend"].forEach(a=>document.addEventListener(a,()=>q(F,0,1)));var B={L:async a=>{var b=await fetch(a);if(!b.ok)throw Error(a);a=await b.arrayBuffer();return await H.decodeAudioData(a)},P:q,BGM:x,D:t,I:z,get V(){return y},set V(a){y=a;k&&(k.gain.value=a)},get A(){return d},VER:"va99-5.4.20241208"};
return B})();
//# sourceMappingURL=va99.min.js.map
