VA=(()=>{var d=new (self.AudioContext||self.webkitAudioContext),l=d.createGain(),x=l.gain.value=.2,q,y=a=>{q?(l.disconnect(),q.disconnect()):l.disconnect();(q=a)?l.connect(a).connect(d.destination):l.connect(d.destination)},E=new (self.OfflineAudioContext||self.webkitOfflineAudioContext)(2,2,d.sampleRate),r=a=>{try{a.stop()}catch(b){}try{a.disconnect()}catch(b){}try{a.buffer=null}catch(b){}},F=a=>{var b=d.createBufferSource();b.buffer=a;b.addEventListener("ended",()=>{r(b)},{once:!0});a=d.createStereoPanner?.();
var c=d.createGain();(a?b.connect(a):b).connect(c).connect(l);b.G=c;b.P=a;return b},p=[],t=(a,b=0,c=0)=>{if("suspended"==d.state)try{d.resume()}catch(e){}if(a instanceof AudioBuffer){var h=F(a);if(!c){for(c=p.length-1;0<=c;c--){var [m,k]=p[c];m===a&&(k.G.gain.value/=2);k.buffer||p.splice(c,1)}p.push([a,h])}b||h.start();return h}},f={},u=0,v=()=>{var a=f.h;a&&r(a);a=f.i;f={};if(a){var [,b,c,h,m,k]=a,e=t(b,1,1);if(e){e.loop=!c;e.G.gain.value=h;e.playbackRate.value=m;var g=e.P?.pan;g&&(g.value=k);f.j=
a;f.h=e;e.start()}else v()}},w=(a,b=0,c=1,h=1,m=1,k=0,e=!1)=>{e||=a;var g=f.h,n=f.j;if(!g?.buffer||f.g||e!==n[0]||b!=n[2]||m!=n[3]||h!=n[4]||k!=n[5])if(u++,null==a||a instanceof AudioBuffer){if(f.i=a?[e,a,b,m,h,k]:null,!f.g){if(!g?.buffer||!g.G||!c)return v();f.g=!0;var z=99*c,G=g.G.gain.value/9,A=()=>0>=(g.G.gain.value-=G)||!g.buffer?v():setTimeout(A,z);setTimeout(A,z)}}else{w(null,!1,c);var H=u;B.L(a).then(C=>C&&H==u&&w(C,b,c,h,m,k,e))}};y(0);["click","touchstart","touchend"].forEach(a=>document.addEventListener(a,
()=>t(d.createBuffer(1,2,d.sampleRate),0,1),{once:!0}));var D=()=>{setTimeout(D,999);"interrupted"==d.state&&d.resume()};D();var B={L:async a=>{var b=await fetch(a);if(!b.ok)throw Error(a);a=await b.arrayBuffer();return await E.decodeAudioData(a)},P:t,BGM:w,D:r,I:y,get V(){return x},set V(a){x=a;l&&(l.gain.value=a)},get A(){return d},VER:"va99-5.2.20231107"};return B})();
//# sourceMappingURL=va99.min.js.map
