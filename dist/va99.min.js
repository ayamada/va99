VA=(()=>{var d=new (self.AudioContext||self.webkitAudioContext),h=d.createGain(),y=h.gain.value=.2,r,z=a=>{r?(h.disconnect(),r.disconnect()):h.disconnect();(r=a)?h.connect(a).connect(d.destination):h.connect(d.destination)},H=new (self.OfflineAudioContext||self.webkitOfflineAudioContext)(2,2,d.sampleRate),n=a=>{try{a.stop()}catch(b){}try{a.disconnect()}catch(b){}try{a.buffer=null}catch(b){}},I=a=>{var b=d.createBufferSource();b.buffer=a;b.addEventListener("ended",()=>{n(b)},{once:!0});a=d.createStereoPanner?.();
var c=d.createGain();(a?b.connect(a):b).connect(c).connect(h);b.G=c;b.P=a;return b},p=[],q=(a,b,c)=>{if(d.state=="suspended"||d.state=="interrupted")try{d.resume()}catch(t){}if(a instanceof AudioBuffer){var f=I(a);if(!c){for(c=p.length-1;0<=c;c--){var k,g;[k,g]=p[c];if(k===a||d.state=="suspended")g.G.gain.value/=2;g.buffer||p.splice(c,1)}p.push([a,f])}b||f.start();b||d.state!="suspended"||setTimeout(()=>d.state=="suspended"&&n(f),999);return f}},e={},u=0,v=()=>{var a=e.i;a&&n(a);a=e.g;e={};if(a){var b,
c,f,k,g;[b,c,,f,k,g]=a;if(b=q(b,1,1)){b.loop=!c;b.G.gain.value=k;b.playbackRate.value=f;if(c=b.P?.pan)c.value=g;e.j=a;e.i=b;b.start()}else v()}},J=(a,b)=>a.length==b.length&&a.every((c,f)=>c===b[f]),x=(a,b=0,c=1,f=1,k=1,g=0)=>{var t=[a,b,c,f,k,g],l=e.i,w=e.j,A=l?.buffer&&!e.h&&w,m=[];a==null&&(e.g?m=[...e.g]:A&&(m=[...w]));if(A&&J(t,w))return m;u++;if(a!=null&&!(a instanceof AudioBuffer)){x(null,!1,c);var K=u;B.L(a).then(C=>C&&K==u&&x(C,b,c,f,k,g));return m}e.g=a?t:null;if(e.h)return m;if(!l?.buffer||
!l.G||!c)return v(),m;e.h=!0;var D=c*99,L=l.G.gain.value/9,E=()=>(l.G.gain.value-=L)<=0||!l.buffer?v():setTimeout(E,D);setTimeout(E,D);return m};z(0);var F=d.createBuffer(1,2,d.sampleRate),G=()=>{q(F,0,1);document.removeEventListener("click",G)};document.addEventListener("click",G);["touchstart","touchend"].forEach(a=>document.addEventListener(a,()=>q(F,0,1)));var B={L:async a=>{var b=await fetch(a);if(!b.ok)throw Error(a);a=await b.arrayBuffer();return await H.decodeAudioData(a)},P:a=>q(a,0,0),BGM:x,
D:n,I:z,get V(){return y},set V(a){y=a;h&&(h.gain.value=a)},get A(){return d},VER:"va99-5.5.20250816"};return B})();
//# sourceMappingURL=va99.min.js.map
